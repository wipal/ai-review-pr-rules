metadata:
  id: "java-selenium-testng-maven-course-ex2.1"
  name: "Exercise 2.1: TestNG Framework Basics"
  exercise: 2.1
  session: 1
  week: 1
  duration_hours: 2
  inherits: "../../../course.yaml"

requirements:
  description: |
    Create CalculatorTest with full TestNG lifecycle. Write 5+ test methods
    for calculator operations (add, subtract, multiply, divide, edge case).
    Use both Assert and SoftAssert. Implement @BeforeMethod/@AfterMethod
    for setup/teardown. Add meaningful test descriptions.

  must_have:
    - "CalculatorTest class created"
    - "5+ test methods (add, subtract, multiply, divide, edge case)"
    - "@Test annotation on all test methods"
    - "@Test with description attribute"
    - "@BeforeMethod for setup"
    - "@AfterMethod for teardown"
    - "At least one test using Assert (hard assert)"
    - "At least one test using SoftAssert"
    - "Proper assertion messages"

  nice_to_have:
    - "Test groups (@Test(groups = {...}))"
    - "Test priority (@Test(priority = ...))"
    - "@DataProvider for parameterized tests"
    - "dependsOnMethods or dependsOnGroups"

checklist:
  - item: "5+ test methods created"
    category: "testng"
    weight: 15
  - item: "@BeforeMethod for setup"
    category: "testng"
    weight: 15
  - item: "@AfterMethod for teardown"
    category: "testng"
    weight: 15
  - item: "@Test has description attribute"
    category: "testng"
    weight: 15
  - item: "Assert (hard assert) used"
    category: "testng"
    weight: 10
  - item: "SoftAssert used"
    category: "testng"
    weight: 15
  - item: "Tests are independent"
    category: "testng"
    weight: 10
  - item: "All tests pass"
    category: "testng"
    weight: 5

additional_rules:
  - id: "before_method_present"
    pattern: "@BeforeMethod"
    message: "@BeforeMethod should be used for test setup"
    suggestion: "Add @BeforeMethod annotated method to set up test prerequisites"
    severity: "error"
    category: "testng"

  - id: "after_method_present"
    pattern: "@AfterMethod"
    message: "@AfterMethod should be used for test cleanup"
    suggestion: "Add @AfterMethod annotated method to clean up after each test"
    severity: "error"
    category: "testng"

  - id: "test_description_present"
    pattern: "@Test\\s*\\(\\s*description\\s*="
    message: "@Test should have description attribute"
    suggestion: "Add description to @Test: @Test(description = \"Test for addition operation\")"
    severity: "warning"
    category: "testng"

  - id: "softassert_used"
    pattern: "SoftAssert"
    message: "SoftAssert should be used for multiple validations"
    suggestion: "Use SoftAssert for multiple validations: SoftAssert soft = new SoftAssert(); soft.assertAll();"
    severity: "warning"
    category: "testng"

pr_expectations:
  title_format: "ex2.1: {brief_description}"
  title_examples:
    - "ex2.1: CalculatorTest with TestNG lifecycle and assertions"
    - "Exercise 2.1 - TestNG annotations, Assert and SoftAssert"

  description_template: |
    ## Summary
    Created CalculatorTest class demonstrating TestNG framework features.

    ## What's done
    - [x] Created Calculator class with basic operations
    - [x] Created CalculatorTest with 5+ test methods
    - [x] Added @BeforeMethod/@AfterMethod
    - [x] Used @Test with description
    - [x] Implemented Assert and SoftAssert

    ## How to test
    mvn test -Dtest=CalculatorTest

  screenshots_required: true

ai_instructions_override: |
  Review Exercise 2.1 (TestNG Framework Basics):
  1. TestNG Lifecycle (25 points) - @BeforeMethod, @AfterMethod, setup/teardown
  2. Test Methods (25 points) - 5+ methods, @Test with description, good names
  3. Assertions (25 points) - Assert and SoftAssert, proper messages
  4. Test Independence (25 points) - tests run in any order, self-contained

  Score: 0-100

learning_objectives:
  - "@BeforeMethod for test setup"
  - "@AfterMethod for test cleanup"
  - "@Test with description attribute"
  - "Assert (hard assertions)"
  - "SoftAssert for multiple validations"
  - "Test lifecycle"
  - "Independent tests"
  - "Test groups and priorities"

resources:
  documentation:
    - "https://testng.org/doc/#main"
    - "https://testng.org/doc/documentation-main.html#annotations"
